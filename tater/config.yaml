name: "Tater AI Assistant"
slug: "tater"
version: "latest"
description: "Tater is an AI assistant with a WebUI and plugins for Discord, Home Assistant, Matrix, and more."
url: "https://github.com/TaterTotterson/Tater"

arch:
  - amd64
  - aarch64

startup: services
boot: auto
init: false

host_network: true
ingress: false

# Optional but nice: let HA know thereâ€™s a web UI
webui: "http://[HOST]:[PORT:8501]"

# Ports are technically ignored with host_network: true,
# but leaving them doesn't hurt validation.
ports:
  "8501/tcp": 8501
  "8787/tcp": 8787
  "8788/tcp": 8788
  "8789/tcp": 8789
  "8790/tcp": 8790

# IMPORTANT: image must NOT have a tag here.
# Supervisor will pull: ghcr.io/tatertotterson/tater:<version>
# so make sure you've pushed tag 0.0.1 to GHCR.
image: "ghcr.io/tatertotterson/tater"

map:
  - share:rw

options:
  llm_host: "http://host.docker.internal"
  llm_port: 11434
  llm_model: "gemma3-27b-abliterated"
  redis_host: "homeassistant"
  redis_port: 6379

schema:
  llm_host: "str"
  llm_port: "int"
  llm_model: "str"
  redis_host: "str"
  redis_port: "int"

# Pass options through as environment variables to the container
environment:
  LLM_HOST: "{llm_host}"
  LLM_MODEL: "{llm_model}"
  REDIS_HOST: "{redis_host}"
  REDIS_PORT: "{redis_port}"
