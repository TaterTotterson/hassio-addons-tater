name: Tater AI Assistant
slug: tater
version: "0.0.1"
description: Tater is an AI assistant with a WebUI and plugins for Discord, Home Assistant, Matrix, and more.
url: https://github.com/TaterTotterson/Tater

# Architectures your image actually supports
arch:
  - amd64
  - aarch64

startup: services
boot: auto
init: false

# Use host networking so Tater can talk to stuff on your LAN easily
host_network: true

# No ingress for now; we'll just expose the WebUI port
ingress: false

# Ports exposed by the Tater container (from your README docker run example)
# 8501 = Streamlit WebUI
# 8787 = internal API (if you want it reachable)
ports:
  "8501/tcp": 8501
  "8787/tcp": 8787
  "8788/tcp": 8788
  "8789/tcp": 8789
  "8790/tcp": 8790

# Use your prebuilt image on GHCR
# If the tag is multi-arch, this is fine as-is.
image: "ghcr.io/tatertotterson/tater:latest"

# Optional: map HA's /config or /share into Tater if you want
map:
  - share:rw

# Optional: expose user-configurable options for env vars
options:
  llm_host: "http://host.docker.internal"
  llm_port: 11434
  llm_model: "gemma3-27b-abliterated"
  redis_host: "homeassistant"
  redis_port: 6379

schema:
  llm_host: str
  llm_port: int
  llm_model: str
  redis_host: str
  redis_port: int
  LLM_HOST: "!env_var LLM_HOST"
  LLM_MODEL: "!env_var LLM_MODEL"
